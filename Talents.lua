local addonName, addonTable = ...
local e = CreateFrame("Frame")
local L = addonTable.L
local classTalents = {
	[1] = { -- Warrior
		[71] = { -- Arms
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[72] = { -- Fury
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[73] = { -- Protection
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
	},
	[2] = { -- Paladin
		[65] = { -- Holy
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[66] = { -- Protection
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[67] = { -- Retribution
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
	},
	[3] = { -- Hunter
		[253] = { -- Beast Mastery
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[254] = { -- Marksmanship
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[255] = { -- Survival
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
	},
	[4] = { -- Rogue
		[259] = { -- Assassination
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[260] = { -- Outlaw
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[261] = { -- Subtlety
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
	},
	[5] = { -- Priest
		[256] = { -- Discipline
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[257] = { -- Holy
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[258] = { -- Shadow
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
	},
	[6] = { -- Death Knight
		[250] = { -- Blood
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[251] = { -- Frost
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[252] = { -- Unholy
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
	},
	[7] = { -- Shaman
		[262] = { -- Elemental
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[263] = { -- Enhancement
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[264] = { -- Restoration
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
	},
	[8] = { -- Mage
		[62] = { -- Arcane
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[63] = { -- Fire
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[64] = { -- Frost
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
	},
	[9] = { -- Warlock
		[265] = { -- Affliction
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[266] = { -- Demonology
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[267] = { -- Destruction
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
	},
	[10] = { -- Monk
		[268] = { -- Brewmaster
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[269] = { -- Windwalker
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[270] = { -- Mistweaver
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
	},
	[11] = { -- Druid
		[102] = { -- Balance
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[103] = { -- Feral
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[104] = { -- Guardian
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[105] = { -- Restoration
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
	},
	[12] = { -- Demon Hunter
		[577] = { -- Havoc
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
		[581] = { -- Vengeance
			[15] = 0,
			[25] = 0,
			[30] = 0,
			[35] = 0,
			[40] = 0,
			[45] = 0,
			[50] = 0,
		},
	},
}

e:RegisterEvent("PLAYER_LEVEL_CHANGED")

e:SetScript("OnEvent", function(self, event, ...)
	if event == "PLAYER_LEVEL_CHANGED" then
		local _, newLevel = ...
		if newLevel % 5 == 0 then
			-- The player's level is evenly divisible
			-- by 5, so let's see if they have unspent
			-- talents.
			if GetNumUnspentTalents() > 0 then
				-- First, congratulate the player for
				-- reaching a talent level.
				print(L["Colored Addon Name"] .. " " .. string.format(L["Level Congrats Text"], newLevel))
				
				-- The player has an unspent talent,
				-- so let's get their class and spec.
				local _, _, classId = UnitClass("player")
				local specIndex = GetSpecialization()
				local specId = GetSpecializationInfo(specIndex)
			end
		end
	end
end)